<!DOCTYPE html>
<html>
    <head>
      <link href='http://fonts.googleapis.com/css?family=Lato:300' rel='stylesheet' type='text/css'>
      <script src="//code.jquery.com/jquery-1.10.2.js"></script>
      <link href='http://fonts.googleapis.com/css?family=Carme' rel='stylesheet' type='text/css'>


        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>jaf</title>
        <meta name="viewport" content="width=device-width">


        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntaxsol.css">

    </head>
    <body>

        <div class="sidebar">
          <a href="/about.html"> <img class="blur about" src="http://www.gravatar.com/avatar/78359dd9d3cf59abacfa85565edc1eb2?s=150" /></a>
          <a href="/"> <img class="blur index" src="/images/compex.svg"/></a>
          <div class='categories'></div>
          <a href="/music.html"> <img class="blur music" src="/images/guitar.svg"/></a>
          <a href="/photo.html"> <img class="blur photo" src="/images/cam.svg"/></a>

       <BR>&nbsp;<BR>
          <!-- this won't work on github pages but keeping it in for when I migrate to linode: -->
          <!-- {  % render_archives site  %  } -->

       <BR>&nbsp;<BR>
       <BR>&nbsp;<BR>
       <BR>&nbsp;<BR>
        </div>

        <div class="site">
          <div class="header">
          </div>

          <div id="home">

<!-- using the split filter -->

   <div class="post-preview">
   <h2 class="post-title"><a href="/welcome-to-jekyll.html">First!</a></h2>
   <hr>
   <span class="post-date">January 13, 2014</span>
   <p>Ok. So. Here we go with this. Here is a test of some stuff. And now I&#39;ll drop in some ruby code </p>
<div class="highlight"><pre><code class="ruby language-ruby" data-lang="ruby">    <span class="vi">@rows</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">2</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">this</span><span class="o">|</span>
      <span class="n">this</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">2</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">squares</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">}</span>
    <span class="k">end</span>
    <span class="vi">@rows</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">2</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">this</span><span class="o">|</span>
      <span class="n">this</span><span class="o">[</span><span class="mi">3</span><span class="o">.</span><span class="n">.</span><span class="mi">5</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">squares</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">}</span>
    <span class="k">end</span>
    <span class="vi">@rows</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">2</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">this</span><span class="o">|</span>
      <span class="n">this</span><span class="o">[</span><span class="mi">6</span><span class="o">.</span><span class="n">.</span><span class="mi">8</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">squares</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">}</span>
    <span class="k">end</span>

    <span class="vi">@rows</span><span class="o">[</span><span class="mi">3</span><span class="o">.</span><span class="n">.</span><span class="mi">5</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">this</span><span class="o">|</span>
      <span class="n">this</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">2</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">squares</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">}</span>
    <span class="k">end</span>
    <span class="vi">@rows</span><span class="o">[</span><span class="mi">3</span><span class="o">.</span><span class="n">.</span><span class="mi">5</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">this</span><span class="o">|</span>
      <span class="n">this</span><span class="o">[</span><span class="mi">3</span><span class="o">.</span><span class="n">.</span><span class="mi">5</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">squares</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">}</span>
    <span class="k">end</span>
    <span class="vi">@rows</span><span class="o">[</span><span class="mi">3</span><span class="o">.</span><span class="n">.</span><span class="mi">5</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">this</span><span class="o">|</span>
      <span class="n">this</span><span class="o">[</span><span class="mi">6</span><span class="o">.</span><span class="n">.</span><span class="mi">8</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">squares</span><span class="o">[</span><span class="mi">5</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">}</span>
    <span class="k">end</span>

    <span class="vi">@rows</span><span class="o">[</span><span class="mi">6</span><span class="o">.</span><span class="n">.</span><span class="mi">8</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">this</span><span class="o">|</span>
      <span class="n">this</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">2</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">squares</span><span class="o">[</span><span class="mi">6</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">}</span>
    <span class="k">end</span>
    <span class="vi">@rows</span><span class="o">[</span><span class="mi">6</span><span class="o">.</span><span class="n">.</span><span class="mi">8</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">this</span><span class="o">|</span>
      <span class="n">this</span><span class="o">[</span><span class="mi">3</span><span class="o">.</span><span class="n">.</span><span class="mi">5</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">squares</span><span class="o">[</span><span class="mi">7</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">}</span>
    <span class="k">end</span>
    <span class="vi">@rows</span><span class="o">[</span><span class="mi">6</span><span class="o">.</span><span class="n">.</span><span class="mi">8</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">this</span><span class="o">|</span>
      <span class="n">this</span><span class="o">[</span><span class="mi">6</span><span class="o">.</span><span class="n">.</span><span class="mi">8</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">squares</span><span class="o">[</span><span class="mi">8</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">}</span>
    <span class="k">end</span>
</code></pre></div>
<p>is this going to look good? </p>

   
   </div>
   <BR>&nbsp;<BR>
   <center>&bull;&bull;&bull;</center>
   <BR>&nbsp;<BR>

   <div class="post-preview">
   <h2 class="post-title"><a href="/uncategorized/some-more-tracks-from-jordans-and-my-duo.html">Some more tracks from Jordan's and my duo</a></h2>
   <hr>
   <span class="post-date">November 18, 2013</span>
   <p>Jordan and I played another duo gig last weekend... here are some tracks.</p>

<p>Bye Bye Blackbird:</p>

<p>[audio mp3=&quot;http://www.jeffalanfowler.com/blog/wp-content/uploads/2013/11/blackbird.mp3&quot;][/audio]</p>

<p>Alice in Wonderland... a fantastic (and tragically underplayed!) waltz:</p>

<p>[audio mp3=&quot;http://www.jeffalanfowler.com/blog/wp-content/uploads/2013/11/alice.mp3&quot;][/audio]</p>

<p><a id="more"></a><a id="more-782"></a></p>

<p>I&#39;ve only heard a Bill Evans cut of that from Live at the Village Vanguard-
<iframe src="//www.youtube.com/embed/bSXRvgFea-0" height="480" width="640" allowfullscreen="" frameborder="0"></iframe></p>

<p>Fantastic.</p>

   
   </div>
   <BR>&nbsp;<BR>
   <center>&bull;&bull;&bull;</center>
   <BR>&nbsp;<BR>

   <div class="post-preview">
   <h2 class="post-title"><a href="/programming/rubyks-the-solver-methods.html">Rubyks, the solver methods</a></h2>
   <hr>
   <span class="post-date">November 12, 2013</span>
   <p>&nbsp;
<p style="text-align: center;"><img class="aligncenter" alt="" src="http://communities.ptc.com/servlet/JiveServlet/showImage/2-172419-27077/puzzles_rubiks_cube-13771.jpg" width="400" height="268" /></p>
So now I have a software model of a rubik&#39;s cube. But how would I go about writing a program that can manipulate that model from any legal position and solve it?</p>

<p><a id="more"></a><a id="more-779"></a></p>

<p>This was also a major nerd snipe on myself, much like the fizzbuzz in brainfuck that ate up a full weekend a few weeks ago. At first, I figured that this was out of my paygrade-- so many better solvers have been written. I&#39;m not even that good of a cuber! I learned to solve it in college but only ever learned one method- it works every time but is not the most efficient solution by any means. I would have to learn new algorithms and strategies if I wanted to write a program that would work well. But then...</p>

<p>Really, the point of the exercise was not to write a fast, efficient program- but rather to attempt to model my own logical process when I solve an &quot;analog&quot; cube. For that- this was a perfect test problem, so that&#39;s what I did.</p>

<p>As I said in the last post, implementing the basic transformations was pretty easy. Using those methods in series to build helper methods that perform even complex algorithms was as simple as stringing them together on a single Cube object and then returning that object. Like this:
<blockquote>
<pre>  #Re-orients cubies of [0][4], [0][6], and [0][8] without affecting anything else.
  def last_move
    self.rr.d.d.r.f.d.d.fr.ur.f.d.d.fr.rr.d.d.r.u
    self
  end</pre>
</blockquote>
That&#39;s the most long winded combination in my repertoire, used to reorient the final cubies to their proper faces.</p>

<p>I planned out the solution by thinking of the steps I use normally:
<ol>
    <li>top cross</li>
    <li>corners next to the top cross</li>
    <li>second level middles</li>
    <li>last level cross</li>
    <li>last level corners</li>
</ol>
So I implemented solving methods for each of these. Basically, each step repeats a set of motions that don&#39;t change the effects of the previous step until some condition is satisfied. Here is the top cross method for an example:
<blockquote>
<pre>  #Solves for cross on first layer. Affects all other layers. 
  def cross_solve 
    downcross = []
    i = 1
    until @cube[0][1] == @cube[0][0] &amp;&amp; @cube[0][3] == @cube[0][0]  &amp;&amp; @cube[0][5] == @cube[0][0] &amp;&amp; @cube[0][7] == @cube[0][0]</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">  until downcross.include?(@cube[0][0]) 
     downcross = []
     self.rr.d.r.l.dr.lr.turn
     downcross = [@cube[5][1],@cube[5][3],@cube[5][5], @cube[5][7]]
     i += 1
     if i &amp;gt; 10
       self.turn until @cube[0][1] != @cube[0][0] 
       self.l.b 
       i = 1
     end
  end

  until @cube[5][3] == cube[0][0]
    i =0
    self.d

    if i &amp;gt; 59 
      self.print
      gets
      end
      i+=1
  end

  until @cube[0][7] != @cube[0][0]
    self.u
  end
 self.f.f
 downcross = []
end

until @cube[4][3] == @cube[4][0] &amp;amp;&amp;amp; @cube[1][5] == @cube[1][0]
  until @cube[1][5] == @cube[1][0]        
    self.u
  end
  self.turn if @cube[4][3] != @cube[4][0]
  i += 1

  if i &amp;gt; 10   
    self.cross_swap
    i = 1
  end
end

if @cube[2][7] != @cube[2][0]
  self.cross_swap
end

self
</code></pre></div>
<p>end</pre>
</blockquote>
It is a very dumb, brute force solving method. I also included several conditionals that trip if the loop has iterated a certain number of times; these act like a tilt- jogging things around just enough to change whatever was causing the loop to lock up.</p>

<p>And so on down the line, until the cube is solved.</p>

<p>The final method to call all of these layers in sequence looks something like this:
<blockquote>
<pre>  #solve invokes all layer solving methods in sequence, solving from any legal state 
  def simple_solve
    testarray = [] 
    @cube.each {|side| testarray &lt;&lt; side.uniq}
    return self if testarray.flatten.length == 6</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">self.cross_solve.corners_solve.second_layer_solve.top_cross.top_corners
self
</code></pre></div>
<p>end</pre>
</blockquote>
Note that it always checks to see if the cube is ALREADY solved before mucking it up!</p>

<p>Going through the process of modeling my own behavior was enlightening. The computer is very, very stupid, but if you give it explicit enough instructions that are able to handle any possible cases, it can do almost any logical process.</p>

<p>&nbsp;</p>

   
   </div>
   <BR>&nbsp;<BR>
   <center>&bull;&bull;&bull;</center>
   <BR>&nbsp;<BR>


<!-- <script type="text/javascript"> -->
<!--   $('.categories').html('All Posts<hr>') -->
<!-- </script> -->



          <div class="footer">
          <a href="/allposts.html"><p>See all posts</p></a>
       <BR>&nbsp;<BR>
       <BR>&nbsp;<BR>
       <BR>&nbsp;<BR>
          </div>

      <script>

        if (window.location.pathname=='/')
          var thing = 'index';
        else
          var thing = window.location.pathname.match(/(\w+).html/)[1];

        $('.' + thing).removeClass('blur')
        function unblur() {
          $(this).removeClass('blur');
        };
        function blur() {
          $(this).addClass('blur');
        };
        $( "img.blur" ).hover(unblur, blur);

        $('.list > li a').click(function() {
              $(this).parent().find('ul').toggle();
            });

        jQuery("pre code").html(function(index, html) {
            return html.replace(/^(.*)$/mg, "<span class=\"line\">$1</span>")
        });

      </script>
    </body>
</html>
