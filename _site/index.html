<!DOCTYPE html>
<html>
    <head>
      <link href='http://fonts.googleapis.com/css?family=Lato:300' rel='stylesheet' type='text/css'>
      <script src="//code.jquery.com/jquery-1.10.2.js"></script>
      <link href='http://fonts.googleapis.com/css?family=Carme' rel='stylesheet' type='text/css'>


        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>jaf</title>
        <meta name="viewport" content="width=device-width">


        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntaxsol.css">

        <script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script language="Javascript" type="text/javascript">

  google.load("search", "1");

  function OnLoad() {
    // Create a search control
    var searchControl = new google.search.SearchControl();

    // Add in a WebSearch
    var webSearch = new google.search.WebSearch();

    // Restrict our search to pages from this site
    webSearch.setSiteRestriction('/');

    // Add the searcher to the SearchControl
    searchControl.addSearcher(webSearch);

    // tell the searcher to draw itself and tell it where to attach
    searchControl.draw(document.getElementById("search"));
  }
  google.setOnLoadCallback(OnLoad);

</script>


    </head>
    <body>

        <div class="sidebar">
          <a href="/about.html"> <img class="blur about" src="http://www.gravatar.com/avatar/78359dd9d3cf59abacfa85565edc1eb2?s=150" /></a>
          <a href="/"> <img class="blur index" src="/images/compex.svg"/></a>
          <a href="/music.html"> <img class="blur music" src="/images/guitar.svg"/></a>
          <a href="/photo.html"> <img class="blur photo" src="/images/cam.svg"/></a>
       <div id="search">djf</div>

       <div class='archive_year'>2014</div><ul class='list'><li><hr><a>January</a><ul><li class='archive_title'><span class='archive_day'>13</span> <a href='/jekyll/update/2014/01/13/welcome-to-jekyll.html'>Welcome to Jekyll!</a></ul></li></ul></ul><div class='archive_year'>2013</div><ul class='list'><li><hr><a>November</a><ul><li class='archive_title'><span class='archive_day'>18</span> <a href='/uncategorized/2013/11/18/some-more-tracks-from-jordans-and-my-duo.html'>Some more tracks from Jordan's and my duo</a></ul><ul><li class='archive_title'><span class='archive_day'>12</span> <a href='/programming/2013/11/12/rubyks-the-solver-methods.html'>Rubyks, the solver methods</a></ul><ul><li class='archive_title'><span class='archive_day'>12</span> <a href='/programming/2013/11/12/rubyks-a-gem.html'>Rubyks, a gem</a></ul><ul><li class='archive_title'><span class='archive_day'>12</span> <a href='/programming/2013/11/12/derple-derp-the-hot-new-social-network.html'>Derple Derp: the hot new social network</a></ul></li></ul><ul class='list'><li><hr><a>October</a><ul><li class='archive_title'><span class='archive_day'>7</span> <a href='/programming/2013/10/07/fizzbuzz-in-brainfuck-part-3.html'>fizzbuzz in brainfuck, part 3</a></ul><ul><li class='archive_title'><span class='archive_day'>6</span> <a href='/music/programming/jazz/2013/10/06/the-chorder-prototype.html'>"The Chorder" prototype</a></ul></li></ul><ul class='list'><li><hr><a>September</a><ul><li class='archive_title'><span class='archive_day'>24</span> <a href='/programming/2013/09/24/fizzbuzz-in-brainfuck-part-two.html'>fizzbuzz in brainfuck, part two</a></ul><ul><li class='archive_title'><span class='archive_day'>24</span> <a href='/music/2013/09/24/doll.html'>Doll</a></ul><ul><li class='archive_title'><span class='archive_day'>22</span> <a href='/programming/2013/09/22/fizzbuzz-in-brainfuck-part-one.html'>fizzbuzz in brainfuck, part one</a></ul><ul><li class='archive_title'><span class='archive_day'>22</span> <a href='/music/2013/09/22/august-8-2012.html'>August 8, 2012</a></ul><ul><li class='archive_title'><span class='archive_day'>20</span> <a href='/programming/2013/09/20/the-story-so-far.html'>The story so far</a></ul><ul><li class='archive_title'><span class='archive_day'>19</span> <a href='/music/2013/09/19/jason-saltiels-wait-until-the-night.html'>Jason Saltiel's "Wait Until the Night"</a></ul><ul><li class='archive_title'><span class='archive_day'>17</span> <a href='/music/songs/videos/2013/09/17/the-tower-of-learning.html'>The Tower of Learning</a></ul><ul><li class='archive_title'><span class='archive_day'>14</span> <a href='/uncategorized/2013/09/14/top-5000.html'>Top 5000</a></ul><ul><li class='archive_title'><span class='archive_day'>13</span> <a href='/programming/2013/09/13/how-brainfuck-works.html'>How brainfuck works</a></ul><ul><li class='archive_title'><span class='archive_day'>12</span> <a href='/music/songs/2013/09/12/ill-come-back-someday.html'>I'll Come Back Someday</a></ul><ul><li class='archive_title'><span class='archive_day'>11</span> <a href='/music/jazz/2013/09/11/a-couple-more-track-from-that-duo-gig-with-jordan.html'>A couple more tracks from that duo gig with Jordan</a></ul><ul><li class='archive_title'><span class='archive_day'>10</span> <a href='/music/jazz/2013/09/10/days-of-wine-and-roses.html'>Days of Wine and Roses</a></ul></li></ul></ul><ul class='list'><li><hr><a>July</a><ul><li class='archive_title'><span class='archive_day'>26</span> <a href='/music/derp/2013/07/26/portishead-tribute-live-at-roseland-live-at-le-poisson-rouge.html'>Portishead tribute "Live at Roseland" live at Le Poisson Rouge</a></ul><ul><li class='archive_title'><span class='archive_day'>23</span> <a href='/music/2013/07/23/new-posts.html'>New Posts</a></ul></li></ul></ul></ul></ul></ul></ul><ul class='list'><li><hr><a>January</a><ul><li class='archive_title'><span class='archive_day'>7</span> <a href='/photography/2013/01/07/polaroids-story.html'>Polaroids Story</a></ul><ul><li class='archive_title'><span class='archive_day'>6</span> <a href='/uncategorized/2013/01/06/the-post-i-am-not-writing-this-time.html'>The first post that I'm not going to write...</a></ul><ul><li class='archive_title'><span class='archive_day'>5</span> <a href='/uncategorized/2013/01/05/v-i-2.html'>V-I</a></ul></li></ul></ul>
       <BR>&nbsp;<BR>
       <BR>&nbsp;<BR>
       <BR>&nbsp;<BR>
        </div>

        <div class="site">
          <div class="header">
          </div>

          <div id="home">

<!-- using the split filter -->

   <div class="post-preview">
   <h2 class="post-title"><a href="/jekyll/update/2014/01/13/welcome-to-jekyll.html">Welcome to Jekyll!</a></h2>
   <hr>
   <span class="post-date">January 13, 2014</span>
   <p>You&#39;ll find this post in your <code>_posts</code> directory - edit this post and re-build (or run with the <code>-w</code> switch) to see your changes!
To add new posts, simply add a file in the <code>_posts</code> directory that follows the convention: YYYY-MM-DD-name-of-post.ext.</p>

<p>Jekyll also offers powerful support for code snippets:</p>

<div class="highlight"><pre><code class="ruby"><span class="k">def</span> <span class="nf">print_hi</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">&quot;Hi, </span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
<span class="n">print_hi</span><span class="p">(</span><span class="s1">&#39;Tom&#39;</span><span class="p">)</span>
<span class="c1">#=&gt; prints &#39;Hi, Tom&#39; to STDOUT.</span>
</code></pre></div>

<p>Check out the <a href="http://jekyllrb.com">Jekyll docs</a> for more info on how to get the most out of Jekyll. File all bugs/feature requests at <a href="https://github.com/mojombo/jekyll">Jekyll&#39;s GitHub repo</a>.</p>

   
   </div>
   <BR>&nbsp;<BR>
   <center>&bull;&bull;&bull;</center>
   <BR>&nbsp;<BR>
   <BR>&nbsp;<BR>

   <div class="post-preview">
   <h2 class="post-title"><a href="/uncategorized/2013/11/18/some-more-tracks-from-jordans-and-my-duo.html">Some more tracks from Jordan's and my duo</a></h2>
   <hr>
   <span class="post-date">November 18, 2013</span>
   <p>Jordan and I played another duo gig last weekend... here are some tracks.</p>

<p>Bye Bye Blackbird:</p>

<p>[audio mp3=&quot;http://www.jeffalanfowler.com/blog/wp-content/uploads/2013/11/blackbird.mp3&quot;][/audio]</p>

<p>Alice in Wonderland... a fantastic (and tragically underplayed!) waltz:</p>

<p>[audio mp3=&quot;http://www.jeffalanfowler.com/blog/wp-content/uploads/2013/11/alice.mp3&quot;][/audio]</p>

<p><a id="more"></a><a id="more-782"></a></p>

<p>I&#39;ve only heard a Bill Evans cut of that from Live at the Village Vanguard-
<iframe src="//www.youtube.com/embed/bSXRvgFea-0" height="480" width="640" allowfullscreen="" frameborder="0"></iframe></p>

<p>Fantastic.</p>

   
   </div>
   <BR>&nbsp;<BR>
   <center>&bull;&bull;&bull;</center>
   <BR>&nbsp;<BR>
   <BR>&nbsp;<BR>

   <div class="post-preview">
   <h2 class="post-title"><a href="/programming/2013/11/12/rubyks-the-solver-methods.html">Rubyks, the solver methods</a></h2>
   <hr>
   <span class="post-date">November 12, 2013</span>
   <p>&nbsp;
<p style="text-align: center;"><img class="aligncenter" alt="" src="http://communities.ptc.com/servlet/JiveServlet/showImage/2-172419-27077/puzzles_rubiks_cube-13771.jpg" width="400" height="268" /></p>
So now I have a software model of a rubik&#39;s cube. But how would I go about writing a program that can manipulate that model from any legal position and solve it?</p>

<p><a id="more"></a><a id="more-779"></a></p>

<p>This was also a major nerd snipe on myself, much like the fizzbuzz in brainfuck that ate up a full weekend a few weeks ago. At first, I figured that this was out of my paygrade-- so many better solvers have been written. I&#39;m not even that good of a cuber! I learned to solve it in college but only ever learned one method- it works every time but is not the most efficient solution by any means. I would have to learn new algorithms and strategies if I wanted to write a program that would work well. But then...</p>

<p>Really, the point of the exercise was not to write a fast, efficient program- but rather to attempt to model my own logical process when I solve an &quot;analog&quot; cube. For that- this was a perfect test problem, so that&#39;s what I did.</p>

<p>As I said in the last post, implementing the basic transformations was pretty easy. Using those methods in series to build helper methods that perform even complex algorithms was as simple as stringing them together on a single Cube object and then returning that object. Like this:
<blockquote>
<pre>  #Re-orients cubies of [0][4], [0][6], and [0][8] without affecting anything else.
  def last_move
    self.rr.d.d.r.f.d.d.fr.ur.f.d.d.fr.rr.d.d.r.u
    self
  end</pre>
</blockquote>
That&#39;s the most long winded combination in my repertoire, used to reorient the final cubies to their proper faces.</p>

<p>I planned out the solution by thinking of the steps I use normally:
<ol>
    <li>top cross</li>
    <li>corners next to the top cross</li>
    <li>second level middles</li>
    <li>last level cross</li>
    <li>last level corners</li>
</ol>
So I implemented solving methods for each of these. Basically, each step repeats a set of motions that don&#39;t change the effects of the previous step until some condition is satisfied. Here is the top cross method for an example:
<blockquote>
<pre>  #Solves for cross on first layer. Affects all other layers. 
  def cross_solve 
    downcross = []
    i = 1
    until @cube[0][1] == @cube[0][0] &amp;&amp; @cube[0][3] == @cube[0][0]  &amp;&amp; @cube[0][5] == @cube[0][0] &amp;&amp; @cube[0][7] == @cube[0][0]</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">  until downcross.include?(@cube[0][0]) 
     downcross = []
     self.rr.d.r.l.dr.lr.turn
     downcross = [@cube[5][1],@cube[5][3],@cube[5][5], @cube[5][7]]
     i += 1
     if i &amp;gt; 10
       self.turn until @cube[0][1] != @cube[0][0] 
       self.l.b 
       i = 1
     end
  end

  until @cube[5][3] == cube[0][0]
    i =0
    self.d

    if i &amp;gt; 59 
      self.print
      gets
      end
      i+=1
  end

  until @cube[0][7] != @cube[0][0]
    self.u
  end
 self.f.f
 downcross = []
end

until @cube[4][3] == @cube[4][0] &amp;amp;&amp;amp; @cube[1][5] == @cube[1][0]
  until @cube[1][5] == @cube[1][0]        
    self.u
  end
  self.turn if @cube[4][3] != @cube[4][0]
  i += 1

  if i &amp;gt; 10   
    self.cross_swap
    i = 1
  end
end

if @cube[2][7] != @cube[2][0]
  self.cross_swap
end

self
</code></pre></div>
<p>end</pre>
</blockquote>
It is a very dumb, brute force solving method. I also included several conditionals that trip if the loop has iterated a certain number of times; these act like a tilt- jogging things around just enough to change whatever was causing the loop to lock up.</p>

<p>And so on down the line, until the cube is solved.</p>

<p>The final method to call all of these layers in sequence looks something like this:
<blockquote>
<pre>  #solve invokes all layer solving methods in sequence, solving from any legal state 
  def simple_solve
    testarray = [] 
    @cube.each {|side| testarray &lt;&lt; side.uniq}
    return self if testarray.flatten.length == 6</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">self.cross_solve.corners_solve.second_layer_solve.top_cross.top_corners
self
</code></pre></div>
<p>end</pre>
</blockquote>
Note that it always checks to see if the cube is ALREADY solved before mucking it up!</p>

<p>Going through the process of modeling my own behavior was enlightening. The computer is very, very stupid, but if you give it explicit enough instructions that are able to handle any possible cases, it can do almost any logical process.</p>

<p>&nbsp;</p>

   
   </div>
   <BR>&nbsp;<BR>
   <center>&bull;&bull;&bull;</center>
   <BR>&nbsp;<BR>
   <BR>&nbsp;<BR>

   <div class="post-preview">
   <h2 class="post-title"><a href="/programming/2013/11/12/rubyks-a-gem.html">Rubyks, a gem</a></h2>
   <hr>
   <span class="post-date">November 12, 2013</span>
   <p style="text-align: center;"><img class="aligncenter" alt="" src="http://www.memphisflyer.com/binary/db6e/1351792080-rubiks-cube-original.jpg" width="252" height="252" /></p>

<p>After writing the initial iteration of the <a title="&quot;The Chorder&quot; prototype" href="http://www.jeffalanfowler.com/blog/the-chorder-prototype/">chorder</a>, I started thinking about other systems that I might be able to model, and the rubiks cube seemed perfect. It is visual, easy to conceptualize, and completely contained- any possible combination can be arrived at by starting at the solved cube (the &quot;base case&quot;) and shuffling. All I had to do was model the state of the cube in some sort of data structure and implement the various transformations accurately and the program would be accurate. Easy, right?!</p>

<p><a id="more"></a><a id="more-767"></a></p>

<p>And actually, it was pretty easy... not at first, necessarily- there was a fair amount of head scratching about how, exactly, I was going to store the state of the cube at any one time (I&#39;m not convinced I picked the best method, either... but more on that later...)</p>

<p>I eventually settled on a two dimensional array containing 6 other arrays (one for each face of the whole cube) of 9 elements each (one for each square on each face.) More about the structure from the README:
<blockquote>
<pre style="white-space: pre-wrap;">The @cube attribute contains 6 arrays of 9 elements, each array describes one side of the cube like so:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">@cube[0] - top
@cube[1] - left
@cube[2] - back
@cube[3] - right
@cube[4] - front
@cube[5] - bottom
</code></pre></div>
<p>The first element @cube[x][0] in any array describes the center square of that face, and remains static in relation to the other sides, just as a real cube&#39;s center square would. </p>

<p>The remaining array elements from [1] - [8] start at &quot;12 o&#39;clock&quot; and move clockwise. Thus: Even numbers are middle cubies and odd numbers are always corner cubies.</p>

<p>&quot;12 o&#39;clock&quot; is constant amongst all sides of the cube, and refers to what &quot;north&quot; would be if the cube was unfolded into two dimensions like so:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    1
5,4,0,2
    3
</code></pre></div>
<p>When cube orientation procedures are applied, the &quot;address&quot; of each side remains consistent with the above diagram, even as the sides themselves represent different numbers. (The sides could just as easily be assigned any symbol or string or whatnott, just as long as each side started off all the same thing, the cube would be in a legal state).</p>

<p>If you created a new cube and then applied Cube#turn, the sides would appear like so:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    4
5,3,0,1
    2
</code></pre></div>
<p>But the address of the location of these sides would remain static. This is so that complex move combinations can be applied to a cube regardless of its orientation to the &quot;viewer.&quot;</pre>
</blockquote>
This does have the advantage of offering a static &quot;address&quot; for each mini square on each face of the cube, but doesn&#39;t offer any scalability- I can&#39;t instantiate a cube of an arbitrary size (like Cube.new(n), for example) because the relationships between the different faces is defined in the methods that act upon them, and not in the data structure itself.</p>

<p>After the data structure was designed, implementing the transformations was fairly straightforward. there are only 6 basic moves- each face can be turned clockwise once (turning a face counterclockwise is the same as turning it clockwise three times). here is the method for turning the top face clockwise once:
<blockquote>
<pre>def u
    cubetemp = Marshal.load(Marshal.dump(@cube))</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">cubetemp[1][4] = @cube[4][2]
cubetemp[1][5] = @cube[4][3]
cubetemp[1][6] = @cube[4][4]

cubetemp[4][2] = @cube[3][8]
cubetemp[4][3] = @cube[3][1]
cubetemp[4][4] = @cube[3][2]

cubetemp[3][8] = @cube[2][6]
cubetemp[3][1] = @cube[2][7]
cubetemp[3][2] = @cube[2][8]

cubetemp[2][6] = @cube[1][4]
cubetemp[2][7] = @cube[1][5]
cubetemp[2][8] = @cube[1][6]

cubetemp[0][1] = @cube[0][7]
cubetemp[0][2] = @cube[0][8]
cubetemp[0][3] = @cube[0][1]
cubetemp[0][4] = @cube[0][2]
cubetemp[0][5] = @cube[0][3]
cubetemp[0][6] = @cube[0][4]
cubetemp[0][7] = @cube[0][5]
cubetemp[0][8] = @cube[0][6]

@hist &amp;lt;&amp;lt; &#39;u&#39;
@cube = Marshal.load(Marshal.dump(cubetemp))
self  
</code></pre></div>
<p>end</pre>
</blockquote>
Simple- just reassigning all the colors based on how the cube is moving. Notice that, because I didn&#39;t understand deep copying of data, I used the (then magical) &quot;Marshal&quot; incantation to create a duplicate temporary array to operate on before I redumped the transformed state back into the main attribute. If I didn&#39;t do that, the color assignment would happen sequentially on the main data structure and it wouldn&#39;t be able to properly assign the new values.</p>

<p>Marshal, by the way, is Ruby&#39;s serialization module... it takes any type of data and turns it into a simple byte stream. This was totally overkill. I should have just made a brand new deep copied array by using Array#dup, which does the same thing in a simpler, more secure way. Maybe I&#39;ll update that.</p>

<p>You can see the entire source at the <a href="https://github.com/urthbound/rubyks" target="_blank">Github repo</a>. I also wrote a little interface to interact with the model.</p>

<p>I packaged all this up as a Gem and made it available at <a href="https://rubygems.org/gems/rubyks" target="_blank">rubygems.org</a> for anyone who wants to make use of my data structure and transformation methods to write their own solver.</p>

   
   </div>
   <BR>&nbsp;<BR>
   <center>&bull;&bull;&bull;</center>
   <BR>&nbsp;<BR>
   <BR>&nbsp;<BR>

   <div class="post-preview">
   <h2 class="post-title"><a href="/programming/2013/11/12/derple-derp-the-hot-new-social-network.html">Derple Derp: the hot new social network</a></h2>
   <hr>
   <span class="post-date">November 12, 2013</span>
   <p>Have you heard of Derple Derp? It&#39;s the hottest new thing to hit the social networking scene.</p>

<p>Not really.</p>

<p>Really, it&#39;s the title I gave the <a href="http://ruby.railstutorial.org/" target="_blank">Hartl Rails Tutorial</a> Sample App on the version of it that I made so that it didn&#39;t say <strong>&quot;SAMPLE APP&quot; </strong>in huge, giant, letters on every page load while I was working in coffee shops or the <a href="http://www.wixlounge.com/" target="_blank">Wix lounge</a>. I decided to keep it that way... everything else is exactly the same as the canonical Sample.</p>

<p>It was definitely a kick in the ass towards the end... I really should have studied up a little more on basic HTTP and maybe taken some looks through the <a href="http://guides.rubyonrails.org/" target="_blank">Rails Guides </a> before tackling it, but it was an immensely worthwhile thing to do. Not only do I have a general overview of a huge swath of rails&#39;s built in functionality, but it was just plain good practice jumping around directories and getting used to the structure of a good app- rails or otherwise. Test driven development was completely new to me, and I can totally see the benefit of goal driven workflows especially when you might be working with multiple people. Not so sure I like rspec much, though... but that just could be because I&#39;m not very good at it yet.</p>

<p>In a way, the whole tutorial provide a sort of mirror to itself by illustrating a large &quot;goal&quot; to be pursued by a n00b dev. I have a much clearer picture in my mind of what the framework is capable of and generally how it goes about doing things, even if a lot of the specifics are a little bit foggy- and I have been using the guide as a reference if I want to try to implement something that I remember being covered in it.</p>

<p><a href="https://derplederp.herokuapp.com/" target="_blank">You can see it here</a>- hell, you can even sign up for an account. It actually works.
<p style="text-align: center;"><a href="http://www.jeffalanfowler.com/blog/wp-content/uploads/2013/11/Screen-Shot-2013-11-11-at-9.41.02-PM.png"><img class="wp-image-761 aligncenter" alt="Screen Shot 2013-11-11 at 9.41.02 PM" src="http://www.jeffalanfowler.com/blog/wp-content/uploads/2013/11/Screen-Shot-2013-11-11-at-9.41.02-PM.png" width="600" height="330" /></a></p>
&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

   
   </div>
   <BR>&nbsp;<BR>
   <center>&bull;&bull;&bull;</center>
   <BR>&nbsp;<BR>
   <BR>&nbsp;<BR>




          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/jaf</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/jeffowler</a><br />
              </p>
            </div>
          </div>
        </div>

      <script>

        if (window.location.pathname=='/')
          var thing = 'index';
        else
          var thing = window.location.pathname.match(/(\w+).html/)[1];

        $('.' + thing).removeClass('blur')
        function unblur() {
          $(this).removeClass('blur');
        };
        function blur() {
          $(this).addClass('blur');
        };
        $( "img.blur" ).hover(unblur, blur);

        $('.list > li a').click(function() {
              $(this).parent().find('ul').toggle();
            });

        jQuery("pre code").html(function(index, html) {
            return html.replace(/^(.*)$/mg, "<span class=\"line\">$1</span>")
        });

      </script>
    </body>
</html>
