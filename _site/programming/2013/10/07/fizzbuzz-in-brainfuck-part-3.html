<!DOCTYPE html>
<html>
    <head>
      <script src="//code.jquery.com/jquery-1.10.2.js"></script>


        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>fizzbuzz in brainfuck, part 3</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="sidebar">
          <a href="about.html"> <img class="blur about" src="http://www.gravatar.com/avatar/78359dd9d3cf59abacfa85565edc1eb2?s=150" /></a>
          <a href="/"> <img class="blur index" src="/images/compex.svg"/></a>
          <a href="music.html"> <img class="blur music" src="/images/guitar.svg"/></a>
          <a href="photo.html"> <img class="blur photo" src="/images/cam.svg"/></a>
        </div>

        <div class="site">
          <div class="header">
          </div>

          <h2 class="post-title" >fizzbuzz in brainfuck, part 3</h2>
<p class="post-date">October 07, 2013</p>

<div class="post">
<p style="text-align: center;"><a href="http://www.jeffalanfowler.com/blog/wp-content/uploads/2013/10/brainfuck.jpg"><img class="aligncenter  wp-image-749" alt="brainfuck" src="http://www.jeffalanfowler.com/blog/wp-content/uploads/2013/10/brainfuck.jpg" width="288" height="288" /></a></p>

<p style="text-align: left;">Alright. I have a memory array loaded with the information I need to get going, and I have a program blueprint that I should be able to implement. I only need to be able to use if/else and if. I looked up some algorithms to use for this bit, and these are the ones I settled on:<a id="more"></a><a id="more-706"></a></p>

<p style="text-align: left;">If ...</p>

<blockquote>
<pre>temp0[-]
temp1[-]
x[temp0+temp1+x-]temp0[x+temp0-]+
temp1[temp0-temp1[-]]
temp0[
<strong> 
<i>  code</i>

</strong>temp0-]</pre>
</blockquote>

<p>and If/Else...
<blockquote>
<pre>temp0[-]+
temp1[-]
x[
<strong>   <i>code1</i></strong></p>

<p>temp0-
x[temp1+x-]
]
temp1[x+temp1-]
temp0[
<strong><br>
<i>    code2
</i></strong>
temp0]</pre>
</blockquote>
Note that the inline &quot;variable&quot; names are actually describing whatever location that cell happens to be. When we get to the final code, those plain text names will be appended with the pointer motions necessary to arrive at them. Both of these algorithms were lifted from <a href="http://esolangs.org/wiki/brainfuck_algorithms" target="_blank">here</a>. For every cell I want to evaluate, I need two more cells to hold temporary information. This is why I left two empty cells next to each multiples counter in the last post, and it is also why I&#39;ll need to slap a couple more empty cells onto the beginning of the whole program when we get around to putting in the final &quot;Buzz&quot; block that needs to be nested into the &quot;Fizz&quot; block. But notice! There is already a problem here... for If/Else, this algorithm runs the first block IF the cell it&#39;s evaluating is &quot;TRUE&quot; (meaning it&#39;s holding a value other than 0). For our &quot;Fizz&quot; and &quot;Buzz&quot; statements, we want them to run if the value of the cell is &quot;0&quot;. Sad Trombone. But it&#39;s an easy fix, of course! We just have to invert all the code we had <a title="fizzbuzz in brainfuck, part one" href="http://www.jeffalanfowler.com/blog/fizzbuzz-in-brainfuck-part-one/" target="_blank">before</a>. Just keep that in mind. Lets write the inverted program in psuedo-code and then fill it all in with the specifics...
<blockquote>
<pre>number = 0 </p>

<p>until number == 100 do
  if number % 3 != 0
    if number % 5 != 0
      print number
    else
      print &quot;Buzz&quot;
    end</p>

<p>else
    print &quot;Fizz&quot;</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">if number % 5 == 0
  print &quot;Buzz&quot;
end
</code></pre></div>
<p>end
puts
number += 1
end</pre>
</blockquote>
Keep in mind that we&#39;ve taken care of all the variable assignments and memory allocation in the last post, so this really is all we have left. I&#39;ll upcase the &quot;rubyish&quot; lines and fill in the brainfuck underneath them.
<blockquote>open hundreds loop
&lt;&lt;&lt;[&gt;&gt;&gt;
open tens loop
&lt;&lt;[&gt;&gt;
open ones loop
&lt;[&gt;</p>

<p>IF NUMBER % 3 != 0
if cell1 == true
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
&gt;temp0[-]+
&gt;temp1[-]
&lt;&lt;x[</p>

<p>IF NUMBER % 5 != 0
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&lt;&lt;&lt;&lt;&lt;&lt;
&gt;temp0[-]
&gt;temp1[-]
&lt;&lt;x[&gt;temp0+&gt;temp1+&lt;&lt;x-]&gt;temp0[&lt;x+&gt;temp0-]
&gt;temp1[
&gt;&gt;&gt;&gt;
print current number
.&gt;.&gt;.&gt;.&lt;&lt;&lt;
&lt;&lt;&lt;&lt;
temp1[-]]
&gt;&gt;&gt;&gt;
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</p>

<p>ELSIF NUMBER % 3 == 0
elsif cell1 == false
&gt;temp0-
&lt;x[&gt;&gt;temp1+&lt;&lt;x-]</p>

<p>]</p>

<p>PRINT FIZZ
&gt;&gt;temp1[&lt;&lt;x+&gt;&gt;temp1-]
&lt;temp0[
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p>

<p>.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
.&gt;.&gt;&gt;&gt;..&lt;&lt;&lt;&lt;
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</p>

<p>IF NUMBER % 5 == 0
&lt;&lt;&lt;&lt;&lt;&lt;
&gt;temp0[-]
&gt;temp1[-]
&lt;&lt;x[&gt;temp0+&gt;temp1+&lt;&lt;x-]&gt;temp0[&lt;x+&gt;temp0-]+
&gt;temp1[&lt;temp0-&gt;temp1[-]]
&lt;temp0[&gt;&gt;&gt;&gt;&gt;</p>

<p>PRINT BUZZ
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;.&gt;.&gt;..&lt;&lt;&lt;&lt;
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</p>

<p>&lt;&lt;&lt;&lt;&lt;
temp0-]
&gt;&gt;&gt;&gt;&gt;</p>

<p>cell 1 = 3
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;+++&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p>

<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
temp0-]
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p>

<p>ELSIF NUMBER % 5 == 0
&lt;&lt;&lt;&lt;&lt;&lt;
&gt;temp0[-]+
&gt;temp1[-]
&lt;&lt;x[&gt;temp0-&lt;x[&gt;&gt;temp1+&lt;&lt;x-]]
&gt;&gt;temp1[&lt;&lt;x+&gt;&gt;temp1-]
&lt;temp0[
&lt;+++++&gt;</p>

<p>PRINT BUZZ
&gt;&gt;&gt;&gt;&gt;
.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;.&gt;.&gt;..&lt;&lt;&lt;&lt;
&lt;&lt;&lt;&lt;&lt;
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
&lt;&lt;&lt;&lt;&lt;
temp0-]
&gt;&gt;&gt;&gt;&gt;</p>

<p>increment ones place
&gt;&gt;&gt;+&lt;&lt;&lt;
decrement 3s counter
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;-&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
decrement 5s counter
&lt;&lt;&lt;&lt;&lt;&lt;-&gt;&gt;&gt;&gt;&gt;&gt;
Decrement ones counter
&lt;-]</p>

<p>reset ones counter
+++++ +++++
rest ones place to 0
&gt;&gt;&gt;&gt; ----- -----
increment 10s place
&lt;+&lt;&lt;</p>

<p>decrement 10s counter
&lt;&lt;-]</p>

<p>reset tens counter to
+++++ +++++ &gt;&gt;&gt;&gt; ----- -----
&lt;+&lt;
&lt;&lt;&lt;-]</p>

<p>PRINT BUZZ FOR 100
&gt;&gt;&gt;.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;.&gt;.&gt;..</blockquote>
So, that&#39;s basically that. This is super hard to read, because of the crazy syntax and how unreadable brainfuck is, but maybe having it parsed out so much will help some peeps understand it better. I sure learned a hell of a lot about memory allocation, pointers, and logic gates. All in all, now that I have a couple of weeks between it and me, it was worth the time.</p>

<p>Oh yeah, of course you can see the <a href="http://replit.com/Kr0/3" target="_blank">whole annotated program here</a>. This is EXACTLY the same code as the giant block of bf symbols I put in the <a title="fizzbuzz in brainfuck, part one" href="http://www.jeffalanfowler.com/blog/fizzbuzz-in-brainfuck-part-one/" target="_blank">first part</a>, just spread out with indentation etc.</p>

<p>Next time in the brainfuck series: <a href="https://github.com/urthbound/esoteric/blob/master/brainfuckint.rb" target="_blank">writing a compiler / interpreter for brainfuck in ruby. </a> Sometime. But don&#39;t hold your breath. All you brainfuck fans out there. In Ukraine. Don&#39;t think I don&#39;t see your ip&#39;s.</p>

<p>Oh and just to wrap this up: it feels pretty good to say that I am never going to write another fizzbuzz again; FizzBuzz is officially checked of the bucket list.</p>

<p>Goodnight and goodluck, interwebs.</p>

<p>&nbsp;</p>

</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/jaf</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/jeffowler</a><br />
              </p>
            </div>
          </div>
        </div>

      <script>

        if (window.location.pathname=='/')
          var thing = 'index';
        else
          var thing = window.location.pathname.match(/(\w+).html/)[1];


        $('.' + thing).removeClass('blur')


        function unblur() {
          $(this).css( "-webkit-filter", "blur(0px)" );
        };

        function blur() {
          $(this).css( "-webkit-filter", "blur(4px)" );
        };

        $( "img.blur" ).hover(unblur, blur);

      </script>
    </body>

</html>
